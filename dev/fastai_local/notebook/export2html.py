#AUTOGENERATED! DO NOT EDIT! File to edit: dev/99a_export2html.ipynb (unless otherwise specified).

__all__ = ['remove_widget_state', 'hide_cells']

from ..core import *

from ..test import *

from ..imports import *

from .export import *

import nbformat
from nbconvert.preprocessors import Preprocessor
from nbconvert import HTMLExporter
from traitlets.config import Config

def remove_widget_state(cell):
    if cell['cell_type'] == 'code' and 'outputs' in cell:
        cell['outputs'] = [l for l in cell['outputs']
                           if not ('data' in l and 'application/vnd.jupyter.widget-view+json' in l.data)]
    return cell

def hide_cells(cell):
    if check_re(cell, r'^\s*#\s*export\s+'): cell['metadata'] = {'hide_input': True}
    if check_re(cell, r'^\s*#\s*hide\s+'):   cell['metadata'] = {'hide_input': True}
    return cell

process_cells = [remove_widget_state, hide_cells]